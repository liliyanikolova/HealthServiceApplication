<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

<form method="post" th:fragment="add-form" th:object="${addProtocolBindingModel}">
    <div class="form-group" th:classappend="${#fields.hasErrors('number')}? 'has-danger'">
        <label for="numberId">Номер на протокола</label>
        <input type="text" class="form-control" id="numberId" aria-describedby="numberHelp" name="number" th:field="*{number}"/>
        <small id="numberHelp" class="form-control-feedback" th:each="error : ${#fields.errors('number')}" th:text="${error}">Error Message</small>
    </div>

    <div class="form-group" th:classappend="${#fields.hasErrors('dateOfIssue')}? 'has-danger'">
        <label for="dateOfIssueId">Дата на издаване</label>
        <input type="text" class="form-control" id="dateOfIssueId" aria-describedby="dateOfIssueHelp" name="dateOfIssue" th:field="*{dateOfIssue}"/>
        <small id="dateOfIssueHelp" class="form-control-feedback" th:each="error : ${#fields.errors('dateOfIssue')}" th:text="${error}">Error Message</small>
    </div>

    <div class="form-group" th:classappend="${#fields.hasErrors('term')}? 'has-danger'">
        <label for="termId">За срок (брой дни)</label>
        <input type="text" class="form-control" id="termId" aria-describedby="termHelp" name="term" th:field="*{term}"/>
        <small id="termHelp" class="form-control-feedback" th:each="error : ${#fields.errors('term')}" th:text="${error}">Error Message</small>
    </div>

    <div class="form-group" th:classappend="${#fields.hasErrors('patient')}? 'has-danger'">
        <label for="patientId">ЕГН на пациента</label>
        <input type="text" class="form-control" id="patientId" aria-describedby="patientHelp" name="patient" th:field="*{patient}"/>
        <small id="patientHelp" class="form-control-feedback" th:each="error : ${#fields.errors('patient')}" th:text="${error}">Error Message</small>
    </div>

    <!--<div class="form-group" th:classappend="${#fields.hasErrors('diagnosis')}? 'has-danger'">-->
        <!--<label for="diagnosisId">РЗОК No.</label>-->
        <!--<input type="text" class="form-control" id="diagnosisId" aria-describedby="diagnosisHelp" name="diagnosis" th:field="*{diagnosis}"/>-->
        <!--<small id="diagnosisHelp" class="form-control-feedback" th:each="error : ${#fields.errors('diagnosis')}" th:text="${error}">Error Message</small>-->
    <!--</div>-->

    <div id="prescriptions">
        <div class="fom-group">
            <!--<div class="form-group" th:classappend="${#fields.hasErrors('specialities')}? 'has-danger'">-->
                <label for="medicineId">Изберете лекарство</label>
                <select class="form-control" id="medicineId" name="medicine" th:field="*{firstPrescription.medicine}">
                    <option th:each="medicine : ${medicines}" th:value="${medicine.code}" th:text="${medicine.code}">Option 1</option>
                </select>
                <!--<small id="medicineHelp" class="form-control-feedback" th:each="error : ${#fields.errors('specialities')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->
        </div>

        <!--<div class="form-group" th:classappend="${#fields.hasErrors('specialities')}? 'has-danger'">-->
            <!--<label for="specialitiesId">Изберете специалност(и)</label>-->
            <!--<select multiple="true" class="form-control" id="specialitiesId" name="specialities" th:field="*{specialities}">-->
                <!--<option th:each="speciality : ${specialities}" th:value="${speciality.name}" th:text="${speciality.name}">Option 1</option>-->
            <!--</select>-->
            <!--<small id="capHelp" class="form-control-feedback" th:each="error : ${#fields.errors('specialities')}" th:text="${error}">Error Message</small>-->
        <!--</div>-->


        <!--<tr id="firs-prescription">-->
            <!--<div class="form-group" th:classappend="${#fields.hasErrors('firstPrescription.medicine')}? 'has-danger'">-->
                <!--<label for="medicineId">Код на лекарство</label>-->
                <!--<input type="text" class="form-control" id="medicineId" aria-describedby="medicineHelp" name="medicine" th:field="*{firstPrescription.medicine}"/>-->
                <!--<small id="medicineHelp" class="form-control-feedback" th:each="error : ${#fields.errors('firstPrescription.medicine')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->

            <!--<div class="form-group" th:classappend="${#fields.hasErrors('firstPrescription.doze')}? 'has-danger'">-->
                <!--<label for="dozeId">Доза</label>-->
                <!--<input type="text" class="form-control" id="dozeId" aria-describedby="dozeHelp" name="doze" th:field="*{firstPrescription.doze}"/>-->
                <!--<small id="dozeHelp" class="form-control-feedback" th:each="error : ${#fields.errors('firstPrescription.doze')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->
        <!--</tr>-->

        <!--<tr id="second-prescription">-->
            <!--<div class="form-group" th:classappend="${#fields.hasErrors('secondPrescription.medicine')}? 'has-danger'">-->
                <!--<label for="medicineId">Код на лекарство</label>-->
                <!--<input style="width: 200px" type="text" class="form-control" id="medicineId" aria-describedby="medicineHelp" name="medicine" th:field="*{secondPrescription.medicine}"/>-->
                <!--<small id="medicineHelp" class="form-control-feedback" th:each="error : ${#fields.errors('secondPrescription.medicine')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->

            <!--<div class="form-group" th:classappend="${#fields.hasErrors('secondPrescription.doze')}? 'has-danger'">-->
                <!--<label for="dozeId">Доза</label>-->
                <!--<input type="text" class="form-control" id="dozeId" aria-describedby="dozeHelp" name="doze" th:field="*{secondPrescription.doze}"/>-->
                <!--<small id="dozeHelp" class="form-control-feedback" th:each="error : ${#fields.errors('secondPrescription.doze')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->
        <!--</tr>-->

        <!--<tr id="third-prescription">-->
            <!--<div class="form-group" th:classappend="${#fields.hasErrors('thirdPrescription.medicine')}? 'has-danger'">-->
                <!--<label for="medicineId">Код на лекарство</label>-->
                <!--<input type="text" class="form-control" id="medicineId" aria-describedby="medicineHelp" name="medicine" th:field="*{thirdPrescription.medicine}"/>-->
                <!--<small id="medicineHelp" class="form-control-feedback" th:each="error : ${#fields.errors('thirdPrescription.medicine')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->

            <!--<div class="form-group" th:classappend="${#fields.hasErrors('thirdPrescription.doze')}? 'has-danger'">-->
                <!--<label for="dozeId">Доза</label>-->
                <!--<input type="text" class="form-control" id="dozeId" aria-describedby="dozeHelp" name="doze" th:field="*{thirdPrescription.doze}"/>-->
                <!--<small id="dozeHelp" class="form-control-feedback" th:each="error : ${#fields.errors('thirdPrescription.doze')}" th:text="${error}">Error Message</small>-->
            <!--</div>-->
        <!--</tr>-->
    </div>

    <br/>
    <div>
        <button type="button" class="btn btn-primary" id="btn-add-prescription">Добави предписание</button>
    </div>

    <br/>
    <button type="submit" class="btn btn-success">Запази</button>
    <a class="btn btn-warning" th:href="|/prescriptions|">Откажи</a>

    <script type="text/javascript">

        $(function () {
            hideAddPrescription();
            $('#btn-add-prescription').click(showAddPrescription);
        });

        function showAddPrescription() {
            var secondVisible = $('#second-prescription').is(":visible");
            if (secondVisible){
                $('#third-prescription').show();
            }
            $('#second-prescription').show();
        }

        function hideAddPrescription() {
            $('#second-prescription').hide();
            $('#third-prescription').hide();
        }
    </script>
</form>

</body>
</html>